Version 4.1
SHEET 1 1752 1908
WIRE -80 -240 -160 -240
WIRE 112 -240 48 -240
WIRE -80 -208 -160 -208
WIRE 112 -208 48 -208
WIRE -80 -176 -160 -176
WIRE 112 -176 48 -176
WIRE 496 -176 496 -208
WIRE -80 -144 -160 -144
WIRE 112 -144 48 -144
WIRE 496 -144 496 -176
WIRE 1040 -32 1040 -64
WIRE -192 112 -256 112
WIRE -64 112 -112 112
WIRE 112 112 -64 112
WIRE 352 112 208 112
WIRE 464 112 352 112
WIRE 640 112 544 112
WIRE 720 112 640 112
WIRE 768 112 720 112
WIRE 352 144 352 112
WIRE -256 160 -256 112
WIRE -64 176 -64 112
WIRE 640 176 640 112
WIRE 768 176 768 112
WIRE 192 192 192 160
WIRE 304 224 272 224
WIRE -256 288 -256 240
WIRE -64 288 -64 240
WIRE 352 288 352 240
WIRE 640 288 640 240
WIRE 768 288 768 256
WIRE 1376 320 1280 320
WIRE 1376 352 1376 320
WIRE 1584 352 1520 352
WIRE 1696 352 1648 352
WIRE 720 368 720 112
WIRE 720 368 576 368
WIRE 576 432 576 368
WIRE 1280 432 1280 320
WIRE 1248 448 1088 448
WIRE 1376 464 1376 432
WIRE 1376 464 1312 464
WIRE 1408 464 1376 464
WIRE 1520 464 1520 352
WIRE 1520 464 1488 464
WIRE 1584 464 1520 464
WIRE -16 480 -48 480
WIRE 64 480 48 480
WIRE 176 480 144 480
WIRE 1248 480 1200 480
WIRE 1696 480 1696 352
WIRE 1696 480 1648 480
WIRE 1584 496 1552 496
WIRE 720 512 720 368
WIRE 576 544 576 496
WIRE -272 560 -384 560
WIRE -384 576 -384 560
WIRE -48 576 -48 480
WIRE 32 576 -48 576
WIRE 176 576 176 480
WIRE 176 576 96 576
WIRE 1088 576 1088 528
WIRE 1200 576 1200 480
WIRE 1248 576 1200 576
WIRE 1376 576 1376 464
WIRE 1376 576 1328 576
WIRE 1200 624 1200 576
WIRE -272 656 -272 560
WIRE -192 672 -240 672
WIRE -384 688 -384 656
WIRE -304 688 -384 688
WIRE 176 688 176 576
WIRE 176 688 96 688
WIRE 576 688 576 624
WIRE 576 688 176 688
WIRE 720 688 720 592
WIRE 720 688 576 688
WIRE -48 704 -48 576
WIRE -48 704 -240 704
WIRE 32 704 -48 704
WIRE 208 720 96 720
WIRE 720 720 720 688
WIRE 1200 736 1200 704
WIRE 1696 736 1696 480
WIRE 1696 736 1200 736
WIRE 208 752 208 720
WIRE 1552 752 1552 496
WIRE 208 848 208 832
WIRE 720 848 720 800
WIRE 1552 880 1552 832
FLAG 768 288 0
FLAG 640 288 0
FLAG 352 288 0
FLAG -64 288 0
FLAG -256 288 0
FLAG 768 112 Vo
FLAG -160 -176 0
FLAG -160 -144 Vpulse
FLAG 112 -240 Vcc
FLAG 496 -272 Vcc
FLAG 112 -176 Vs
FLAG 496 -80 Vs
FLAG 112 -208 Vb
FLAG 496 -176 Vb
FLAG 112 -144 Vcc
FLAG -160 -240 Vlo
FLAG 272 304 Vlo
FLAG -160 -208 Vho
FLAG 192 272 Vho
FLAG 352 112 Vs
FLAG 208 848 0
FLAG 720 848 0
FLAG 64 736 0
FLAG 1040 -32 0
FLAG 1040 -144 Vcc
FLAG 64 672 Vcc
FLAG -272 720 0
FLAG -384 688 Vpulse
FLAG -272 560 Vcc
FLAG 1280 496 0
FLAG 1616 512 0
FLAG 1280 320 Vcc
FLAG 1616 448 Vcc
FLAG 1088 576 0
FLAG 1696 480 Triang
FLAG -192 672 Triang
FLAG 1552 880 0
SYMBOL ind 448 128 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 300µ
SYMBOL cap 624 176 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL res 752 160 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL cap -80 176 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL voltage -256 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {Vin}
SYMBOL nmos 112 160 R270
SYMATTR InstName M4
SYMATTR Value IRFZ44N
SYMBOL cap 480 -144 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL diode 480 -272 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 176 176 R0
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL res 256 208 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL nmos 304 144 R0
SYMATTR InstName M3
SYMATTR Value IRFZ44N
SYMBOL res -96 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL OpAmps\\ADTL082 64 640 M0
SYMATTR InstName U3
SYMBOL voltage 208 736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 4.75
SYMBOL res 704 496 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 704 704 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL voltage 1040 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 9
SYMBOL OpAmps\\opamp2 -272 624 M0
SYMATTR InstName U4
SYMATTR Value LM393A
SYMBOL res -400 560 R0
SYMATTR InstName R7
SYMATTR Value 820
SYMBOL res 1184 608 R0
SYMATTR InstName R9
SYMATTR Value 15k
SYMBOL res 1344 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 91k
SYMBOL res 1504 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 39k
SYMBOL cap 1648 336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 220p
SYMBOL res 1360 336 R0
SYMATTR InstName R12
SYMATTR Value 820
SYMBOL OpAmps\\opamp2 1280 400 R0
SYMATTR InstName U5
SYMATTR Value LM393A
SYMBOL voltage 1088 432 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 4.5
SYMBOL OpAmps\\ADTL082 1616 416 R0
SYMATTR InstName U6
SYMBOL cap 96 560 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 180p
SYMBOL res 160 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 15k
SYMBOL cap 48 464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 12n
SYMBOL voltage 1552 736 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 4.5
SYMBOL cap 560 432 R0
SYMATTR InstName C7
SYMATTR Value 12n
SYMBOL res 560 528 R0
SYMATTR InstName R13
SYMATTR Value 1.8k
SYMBOL IR2104 -16 -192 R0
SYMATTR InstName U1
TEXT -1200 584 Left 2 !.tran 5m
TEXT -1200 616 Left 2 !;step param Vin 12 30 .25
TEXT -1200 480 Left 2 ;.op
TEXT -1200 600 Left 2 !.param Vin=12
TEXT -1200 496 Left 2 !.include IR2104.lib
TEXT -1200 512 Left 2 !.options cshunt=1e-15
TEXT -1200 536 Left 2 !.options abstol=1e-10
TEXT -1200 560 Left 2 !.options gmin=1e-10
TEXT -1200 640 Left 2 !;inc IR2104.asy
TEXT -1200 664 Left 2 !.inc LM393A.lib
